<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Get regular summaries of your favorite podcasts delivered to your inbox. No Time Podcast - Stay informed without the time commitment.">
    <title>No Time Podcast - Podcast Summaries Delivered</title>
    <link rel="stylesheet" href="styles.css">

    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-9DVDFHLSG0"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}

        // Only initialize GA if user has consented
        if (localStorage.getItem('cookieConsent') === 'accepted') {
            gtag('js', new Date());
            gtag('config', 'G-9DVDFHLSG0');
        }
    </script>
</head>
<body>
    <div class="container">
        <!-- Logo -->
        <header>
            <div class="logo">
                <span class="logo-icon">üéôÔ∏è</span>
                <span class="logo-text">no time</span>
            </div>
        </header>

        <!-- Main Content -->
        <main>
            <div class="badge">
                <span class="badge-dot"></span>
                Coming Soon
            </div>

            <h1 class="hero-title">
                PODCAST SUMMARIES<br>
                DELIVERED TO YOUR INBOX
            </h1>

            <p class="hero-subtitle">
                Love your favorite podcasts but don't have time to listen to everything?<br>
                Get regular summaries delivered straight to your inbox.
            </p>

            <!-- Form -->
            <div class="form-container" id="formContainer">
                <!-- Web3Forms integration -->
                <form id="waitlistForm" class="waitlist-form" action="https://api.web3forms.com/submit" method="POST">
                    <!-- Web3Forms access key -->
                    <input type="hidden" name="access_key" value="5796b28a-9e5b-4c75-879a-e972bb4498bb">
                    
                    <!-- Optional: Customize email subject -->
                    <input type="hidden" name="subject" value="New Waitlist Signup - No Time Podcast">
                    
                    <!-- Optional: Redirect after submission (or remove to show default message) -->
                    <input type="hidden" name="redirect" value="https://notimepod.com/thanks.html">
                    
                    <div class="form-group">
                        <input 
                            type="email" 
                            id="email" 
                            name="email" 
                            placeholder="Your Email" 
                            required
                            autocomplete="email"
                        >
                    </div>
                    
                    <div class="form-group">
                        <textarea 
                            id="podcasts" 
                            name="podcasts" 
                            placeholder="List 1+ of your favorite podcasts (one per line)" 
                            rows="4"
                            required
                        ></textarea>
                    </div>
                    
                    <div class="form-group">
                        <input 
                            type="text" 
                            id="name" 
                            name="name" 
                            placeholder="Your Name (optional)" 
                            autocomplete="name"
                        >
                    </div>
                    
                    <button type="submit" class="submit-btn">
                        Join Waitlist
                    </button>
                </form>

                <!-- Success Message (shown via JavaScript) -->
                <div id="successMessage" class="success-message hidden">
                    <div class="success-icon">‚úì</div>
                    <h2>Thanks for joining!</h2>
                    <p>We'll be in touch soon with updates.</p>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer>
            <p>&copy; 2025 No Time Podcast. All rights reserved.</p>
        </footer>
    </div>

    <!-- Cookie Consent Banner -->
    <div id="cookieConsent" class="cookie-consent">
        <div class="cookie-consent-content">
            <p class="cookie-consent-text">
                We use cookies to analyze site traffic and improve your experience.
                By clicking "Accept", you consent to our use of analytics cookies.
            </p>
            <div class="cookie-consent-buttons">
                <button id="rejectCookies" class="cookie-consent-btn reject">Decline</button>
                <button id="acceptCookies" class="cookie-consent-btn accept">Accept</button>
            </div>
        </div>
    </div>

    <!-- Modified script for Web3Forms + Cookie Consent -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Form handling
            const form = document.getElementById('waitlistForm');
            const successMessage = document.getElementById('successMessage');
            const formContainer = form;

            form.addEventListener('submit', async function(e) {
                e.preventDefault();

                const formData = new FormData(form);

                try {
                    const response = await fetch('https://api.web3forms.com/submit', {
                        method: 'POST',
                        body: formData
                    });

                    const data = await response.json();

                    if (data.success) {
                        // Hide form and show success message
                        formContainer.style.display = 'none';
                        successMessage.classList.remove('hidden');

                        // Optional: Reset form after delay
                        setTimeout(() => {
                            form.reset();
                        }, 1000);
                    } else {
                        alert('Oops! Something went wrong. Please try again.');
                    }
                } catch (error) {
                    console.error('Error:', error);
                    alert('Oops! Something went wrong. Please try again.');
                }
            });

            // Cookie consent handling
            const consentBanner = document.getElementById('cookieConsent');
            const acceptBtn = document.getElementById('acceptCookies');
            const rejectBtn = document.getElementById('rejectCookies');

            // Show banner if no consent decision has been made
            if (!localStorage.getItem('cookieConsent')) {
                setTimeout(() => {
                    consentBanner.classList.add('visible');
                }, 1000);
            }

            acceptBtn.addEventListener('click', function() {
                localStorage.setItem('cookieConsent', 'accepted');
                consentBanner.classList.remove('visible');

                // Initialize GA4 after consent
                if (typeof gtag === 'function') {
                    gtag('js', new Date());
                    gtag('config', 'G-9DVDFHLSG0');
                }
            });

            rejectBtn.addEventListener('click', function() {
                localStorage.setItem('cookieConsent', 'rejected');
                consentBanner.classList.remove('visible');
            });
        });
    </script>
</body>
</html>
